@import "tailwindcss";

@theme {
  /* Custom colors from old v3 config */
  --color-primary: #050816;
  --color-secondary: #aaa6c3;
  --color-tertiary: #151030;
  --color-white-50: #d9ecff;
  --color-white-100: #f3f3f3;
  --color-black-50: #1c1c21;
  --color-black-100: #0e0e10;
  --color-black-200: #282732;
  --color-blue-50: #839cb5;
  --color-blue-100: #2d2d38;

  /* Custom breakpoint */
  --breakpoint-xs: 450px;

  /* Custom box shadow */
  --shadow-card: 0px 35px 120px -15px #211e35;

  /* Background image */
  --background-image-hero-pattern: url("/assets/herobg.png");

  /* Gradient for card glow effect */
  --gradient: radial-gradient(circle, #e5e5e5 0%, #fff 100%);
}

@layer base {
  * {
    box-sizing: border-box;
    scroll-behavior: smooth;
    color-scheme: dark;
  }

  body {
    margin: 0;
    padding: 0;
    font-family: "Poppins", sans-serif;
    background: #171717;
    color: #ffffff;
    /* 性能优化：启用硬件加速 */
    transform: translateZ(0);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* 优化动画性能 */
  [data-motion] {
    will-change: transform, opacity;
  }

  /* 动画结束后移除 will-change */
  [data-motion-complete] {
    will-change: auto;
  }
}

/* Navbar CSS Animations */

/* --- Desktop Animation (md: 768px and up) --- */
@media (min-width: 768px) {

  /* 1. Logo Group: Fades in centered, waits, then slides left */
  .navbar-slide-in {
    animation: logoCenterToLeft 1.2s cubic-bezier(0.25, 0.4, 0.25, 1) both;
  }

  /* 2. Title Group: Waits 0.6s, then fades in sliding from left */
  .navbar-fade-in {
    animation: titleReveal 1.2s cubic-bezier(0.25, 0.4, 0.25, 1) both;
  }
}

/* --- Mobile Animation (Below 768px) --- */
@media (max-width: 767px) {

  /* Parent container: No movement, just visible */
  .navbar-slide-in {
    opacity: 1;
    transform: none;
  }

  /* Name text: Slides out from left (behind logo) to right */
  .logo-text {
    animation: logoNameSlideRight 0.8s cubic-bezier(0.25, 0.4, 0.25, 1) both;
  }
}

/* Keyframes Definitions */

/* Desktop: Logo moves from Center (80px) to Left (0px) */
@keyframes logoCenterToLeft {
  0% {
    opacity: 0;
    transform: translateX(80px);
    /* Start centered */
  }

  40% {
    opacity: 1;
    transform: translateX(80px);
    /* Fade in done, still centered */
  }

  50% {
    transform: translateX(80px);
    /* Wait for a moment */
  }

  100% {
    opacity: 1;
    transform: translateX(0);
    /* Slide to left */
  }
}

/* Desktop: Title fades in */
@keyframes titleReveal {

  0%,
  50% {
    opacity: 0;
    transform: translateX(-20px);
  }

  100% {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Mobile: Name slides from left to right */
@keyframes logoNameSlideRight {
  from {
    opacity: 0;
    transform: translateX(-50px);
  }

  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@layer components {
  .paddingX {
    @apply sm:px-16 px-6;
  }

  .paddingY {
    @apply sm:py-16 py-6;
  }

  .padding {
    @apply sm:px-16 px-6 sm:py-16 py-10;
  }

  .heroHeadText {
    @apply font-black text-white lg:text-[80px] sm:text-[60px] xs:text-[50px] text-[40px] lg:leading-[98px] mt-2;
  }

  .heroSubText {
    @apply text-[#dfd9ff] font-medium lg:text-[30px] sm:text-[26px] xs:text-[20px] text-[16px] lg:leading-[40px];
  }

  .section-padding {
    @apply md:mt-40 mt-20;
  }

  .sectionHeadText {
    @apply text-white font-black md:text-[60px] sm:text-[50px] xs:text-[40px] text-[30px];
  }

  .sectionSubText {
    @apply sm:text-[18px] text-[14px] text-secondary uppercase tracking-wider;
  }

  .exp-card-wrapper {
    @apply flex flex-col-reverse xl:flex-row xl:gap-20 gap-10 justify-between relative;
  }

  .card-border {
    @apply border border-black-50 bg-black-100;
  }

  .timeline {
    @apply absolute z-18 h-[110%] -top-10 w-1;
    transform-origin: bottom bottom;
    /* 从顶部纯色渐变到底部透明，形成流星尾巴收束效果 */
    background: linear-gradient(to top,
        var(--color-primary) 0%,
        var(--color-primary) 85%,
        transparent 100%);
  }

  .timeline-logo {
    @apply md:size-20 size-10 flex-none rounded-full flex justify-center items-center md:-translate-y-7 border border-black-50 bg-black-100 z-30 relative;
  }

  .tech-card-animated-bg {
    @apply absolute left-0 bottom-[-100%] w-full h-full bg-[#2D3240] group-hover:bottom-0 transition-all duration-700;
  }

  .tech-card-content {
    @apply flex flex-col md:justify-center items-center overflow-hidden relative z-10 group-hover:cursor-grab;

    & p {
      @apply text-lg 2xl:text-2xl pb-5 font-semibold text-white-50 text-center;
    }
  }

  .tech-grid {
    @apply grid grid-cols-2 md:grid-cols-3 xl:grid-cols-6 gap-5 md:gap-8 2xl:gap-16 mt-16;
  }

  .tech-card {
    /* Initial hidden state for GSAP animation - will be animated to visible */
    opacity: 0;
    transform: translateY(50px);
  }

  .tech-icon-wrapper {
    @apply flex justify-center items-center w-40 sm:w-52 h-40 sm:h-60 relative;
  }

  /* Custom max width utility */
  .max-w-8xl {
    max-width: 1536px;
  }

  .max-w-9xl {
    max-width: 1920px;
  }
}

.black-gradient {
  background: #000000;
  /* fallback for old browsers */
  background: -webkit-linear-gradient(to right,
      #434343,
      #000000);
  /* Chrome 10-25, Safari 5.1-6 */
  background: linear-gradient(to right,
      #434343,
      #000000);
  /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
}

.violet-gradient {
  background: #804dee;
  background: linear-gradient(-90deg, #804dee 0%, rgba(60, 51, 80, 0) 100%);
  background: -webkit-linear-gradient(-90deg,
      #804dee 0%,
      rgba(60, 51, 80, 0) 100%);
}

/* canvas- styles */
.canvas-loader {
  font-size: 10px;
  width: 1em;
  height: 1em;
  border-radius: 50%;
  position: relative;
  text-indent: -9999em;
  animation: mulShdSpin 1.1s infinite ease;
  transform: translateZ(0);
}

@keyframes mulShdSpin {

  0%,
  100% {
    box-shadow:
      0em -2.6em 0em 0em #ffffff,
      1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2),
      2.5em 0em 0 0em rgba(255, 255, 255, 0.2),
      1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2),
      0em 2.5em 0 0em rgba(255, 255, 255, 0.2),
      -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2),
      -2.6em 0em 0 0em rgba(255, 255, 255, 0.5),
      -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.7);
  }

  12.5% {
    box-shadow:
      0em -2.6em 0em 0em rgba(255, 255, 255, 0.7),
      1.8em -1.8em 0 0em #ffffff,
      2.5em 0em 0 0em rgba(255, 255, 255, 0.2),
      1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2),
      0em 2.5em 0 0em rgba(255, 255, 255, 0.2),
      -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2),
      -2.6em 0em 0 0em rgba(255, 255, 255, 0.2),
      -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.5);
  }

  25% {
    box-shadow:
      0em -2.6em 0em 0em rgba(255, 255, 255, 0.5),
      1.8em -1.8em 0 0em rgba(255, 255, 255, 0.7),
      2.5em 0em 0 0em #ffffff,
      1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2),
      0em 2.5em 0 0em rgba(255, 255, 255, 0.2),
      -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2),
      -2.6em 0em 0 0em rgba(255, 255, 255, 0.2),
      -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);
  }

  37.5% {
    box-shadow:
      0em -2.6em 0em 0em rgba(255, 255, 255, 0.2),
      1.8em -1.8em 0 0em rgba(255, 255, 255, 0.5),
      2.5em 0em 0 0em rgba(255, 255, 255, 0.7),
      1.75em 1.75em 0 0em #ffffff,
      0em 2.5em 0 0em rgba(255, 255, 255, 0.2),
      -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2),
      -2.6em 0em 0 0em rgba(255, 255, 255, 0.2),
      -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);
  }

  50% {
    box-shadow:
      0em -2.6em 0em 0em rgba(255, 255, 255, 0.2),
      1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2),
      2.5em 0em 0 0em rgba(255, 255, 255, 0.5),
      1.75em 1.75em 0 0em rgba(255, 255, 255, 0.7),
      0em 2.5em 0 0em #ffffff,
      -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2),
      -2.6em 0em 0 0em rgba(255, 255, 255, 0.2),
      -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);
  }

  62.5% {
    box-shadow:
      0em -2.6em 0em 0em rgba(255, 255, 255, 0.2),
      1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2),
      2.5em 0em 0 0em rgba(255, 255, 255, 0.2),
      1.75em 1.75em 0 0em rgba(255, 255, 255, 0.5),
      0em 2.5em 0 0em rgba(255, 255, 255, 0.7),
      -1.8em 1.8em 0 0em #ffffff,
      -2.6em 0em 0 0em rgba(255, 255, 255, 0.2),
      -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);
  }

  75% {
    box-shadow:
      0em -2.6em 0em 0em rgba(255, 255, 255, 0.2),
      1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2),
      2.5em 0em 0 0em rgba(255, 255, 255, 0.2),
      1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2),
      0em 2.5em 0 0em rgba(255, 255, 255, 0.5),
      -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.7),
      -2.6em 0em 0 0em #ffffff,
      -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);
  }

  87.5% {
    box-shadow:
      0em -2.6em 0em 0em rgba(255, 255, 255, 0.2),
      1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2),
      2.5em 0em 0 0em rgba(255, 255, 255, 0.2),
      1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2),
      0em 2.5em 0 0em rgba(255, 255, 255, 0.2),
      -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.5),
      -2.6em 0em 0 0em rgba(255, 255, 255, 0.7),
      -1.8em -1.8em 0 0em #ffffff;
  }
}

.gradient-line {
  position: absolute;
  z-index: 30;
  width: 2px;
  background: linear-gradient(0deg,
      #8d68e6 0%,
      #6d45ce 10%,
      #52aeff 62.83%,
      #fd5c79 73%);
}

.gradient-edge:nth-of-type(1) {
  left: 0;
  background: rgb(0, 0, 0);
  background: linear-gradient(90deg,
      rgba(0, 0, 0, 1) 0%,
      rgba(255, 255, 255, 0) 100%);
}

.gradient-edge:nth-of-type(2) {
  right: 0;
  background: linear-gradient(-90deg,
      rgba(0, 0, 0, 1) 0%,
      rgba(255, 255, 255, 0) 100%);
}

.card {
  --start: 0;
  position: relative;
  z-index: 40;
  overflow: hidden;
  transition: border-color 1s ease-in-out;
}

.card::before {
  position: absolute;
  content: "";
  width: 100%;
  height: 100%;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border-radius: 12px;
  border: 2px solid transparent;
  background: var(--gradient);
  background-attachment: fixed;
  mask:
    linear-gradient(#0000, #0000),
    conic-gradient(from calc((var(--start) - 15) * 1deg),
      #ffffff1f 0deg,
      white,
      #ffffff00 100deg);
  mask-composite: intersect;
  mask-clip: padding-box, border-box;
  opacity: 0;
  transition: 0.5s ease;
}

.glow {
  pointer-events: none;
  position: absolute;
  width: 100%;
  height: 100%;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  filter: blur(10px);
  filter: saturate(200);
}

.card:hover::before {
  opacity: 1;
}