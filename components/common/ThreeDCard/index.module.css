/* Simplified ThreeDCard styles
   - 3D follow / tilt is now driven by JS via CSS variables: --transform, --shine, --shadow, --start, --hover-scale
   - Removed grid overlay detection divs and :has branches
   - Interactive children receive pointer events via pointer-events: auto
*/

.hover3d {
  display: inline-block;
  perspective: 75rem;
  --transform: 0, 0;
  --shine: 100% 100%;
  --shadow: 0rem 0rem 0rem;
  --hover-scale: 1.05;
  --ease: linear(
    0,
    0.931 13.8%,
    1.196 21.4%,
    1.343 29.8%,
    1.378 36%,
    1.365 43.2%,
    1.059 78%,
    1
  );
  filter: drop-shadow(var(--shadow) 0.1rem rgba(0, 0, 0, 0.01))
    drop-shadow(var(--shadow) 0.2rem rgba(0, 0, 0, 0.01))
    drop-shadow(var(--shadow) 0.3rem rgba(0, 0, 0, 0.01))
    drop-shadow(var(--shadow) 0.4rem rgba(0, 0, 0, 0.01));
  transition: filter ease-out 400ms;
}

.hover3d > :first-child {
  position: relative;
  overflow: hidden;
  transform: rotate3d(var(--transform), 0, 10deg);
  transition:
    transform var(--ease) 500ms,
    outline-color ease-out 500ms;
  outline: 0.5px solid transparent;
  outline-offset: -1px;
  pointer-events: auto;
}

/* 光效伪元素 */
.hover3d > :first-child::before {
  content: "";
  width: calc(1 / 3 * 100%);
  height: calc(1 / 3 * 100%);
  position: absolute;
  top: 0;
  left: 0;
  z-index: 1;
  pointer-events: none;
  transform: scale(5);
  opacity: 0;
  filter: blur(0.75rem);
  background-image: radial-gradient(
    circle at 50%,
    rgba(255, 255, 255, 0.2) 10%,
    transparent 50%
  );
  translate: var(--shine);
  transition:
    translate ease-out 400ms,
    opacity ease-out 400ms;
}

.hover3d:hover {
  --ease: linear(
    0,
    0.708 15.2%,
    0.927 23.6%,
    1.067 33%,
    1.12 41%,
    1.13 50.2%,
    1.019 83.2%,
    1
  );
}

.hover3d:hover > :first-child {
  outline-color: rgba(255, 255, 255, 0.06);
  transform: scale(var(--hover-scale)) rotate3d(var(--transform), 0, 10deg);
}

.hover3d:hover > :first-child::before {
  opacity: 1;
}
